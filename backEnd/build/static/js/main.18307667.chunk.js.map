{"version":3,"sources":["reducer/blogReducer.js","services/blogs.js","components/Blog.js","components/addForm.js","components/Users.js","components/User.js","reducer/usersReducer.js","components/singleBlog.js","services/users.js","reducer/loggedUserReducer.js","components/LoginForm.js","components/CreateAccount.js","services/login.js","components/Head.js","components/Banner.js","components/Footer.js","App.js","store.js","index.js"],"names":["blogs","baseUrl","token","create","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newObjcet","header","response","wrap","_context","prev","next","headers","Authorization","axios","post","sent","abrupt","data","stop","_x","apply","arguments","updateBlog","_ref2","_callee2","blog","_context2","patch","concat","id","useName","_x2","removeBlog","_ref3","_callee3","_context3","delete","_x3","makeComment","_ref4","_callee4","comment","_context4","_x4","_x5","getAll","get","then","setToken","newToken","deleteBlog","dispatch","blogService","type","t0","Error","blogReducer","state","length","undefined","action","filter","title","toLowerCase","includes","_toConsumableArray","map","_objectSpread","likes","comments","Search","Input","Blog","loggedUser","useDispatch","useSelector","sort","a","b","forEach","item","index","avatar","description","IconText","icon","text","_jsxs","Space","children","React","createElement","_jsx","className","_Fragment","placeholder","onSearch","value","searchBlogs","allowClear","style","width","Link","to","Button","block","shape","onClick","notification","error","message","placement","List","itemLayout","size","pagination","pageSize","dataSource","bordered","loading","renderItem","Item","actions","UserOutlined","author","LikeOutlined","MessageOutlined","extra","alt","src","Meta","Avatar","content","AddForm","setLoggedUser","_useState","useState","_useState2","_slicedToArray","setTitle","_useState3","_useState4","setAuthor","_useState5","_useState6","setValue","Form","onFinish","blogObject","res","url","location","replace","success","window","localStorage","removeItem","margin","display","flexDirection","name","rules","required","prefix","EditOutlined","onChange","target","MDEditor","previewOptions","rehypePlugins","rehypeSanitize","htmlType","Users","users","searchText","setSearchText","searchedColumn","setSearchedColumn","searchInput","useRef","handleSearch","selectedKeys","confirm","dataIndex","star","reduce","pre","cur","status","columns","filterDropdown","setSelectedKeys","clearFilters","close","padding","onKeyDown","e","stopPropagation","ref","onPressEnter","marginBottom","borderColor","SearchOutlined","background","border","handleReset","closeDropdown","color","filterIcon","filtered","onFilter","record","toString","onFilterDropdownOpenChange","visible","setTimeout","_searchInput$current","current","select","render","Highlighter","highlightStyle","backgroundColor","searchWords","autoEscape","textToHighlight","filters","Tag","x","Table","User","user","handleRemoving","reload","grid","gutter","column","Card","Popconfirm","onConfirm","okText","cancelText","QuestionCircleOutlined","Skeleton","active","paragraph","rows","addUsers","usersReducer","blogId","push","TextArea","SingleBlog","open","setOpen","setComment","useParams","find","handleLikes","username","addlike","Affix","offsetTop","UnorderedListOutlined","fontSize","Drawer","onClose","MarkNav","source","ordered","headingTopOffset","hoverable","headStyle","textAlign","ReactMarkdown","remarkPlugins","remarkGfm","marginTop","hideOnSinglePage","showCount","maxLength","autoSize","_ref5","_callee5","_context5","addComment2","baseURL","getALL","register","info","loggedUserReducer","LoginForm","props","setUsersname","password","setPassword","noLogin","setNoLogin","justifyContent","alignItems","initialValues","remember","login","LockOutlined","Checkbox","setModalState","CreateAccount","setUsername","SetName","handleRegister","UserService","scrollToFirstError","whitespace","max","pattern","min","hasFeedback","Password","dependencies","getFieldValue","validator","rule","Promise","reject","resolve","valuePropName","_","href","Head","modalState","isModalVisible","setIsModalVisible","move","document","body","scrollTop","documentElement","loginService","setItem","JSON","stringify","YahooOutlined","getItem","Modal","maxWidth","footer","onCancel","Banner","Footer","Popover","App","setUsers","matchUser","useRouteMatch","params","useEffect","loggedUserJSON","parse","allUsers","usersService","Switch","Route","path","reducers","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","Router","Provider","getElementById"],"mappings":"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","file":"static/js/main.18307667.chunk.js","sourcesContent":["import blogService from '../services/blogs'\r\nlet blogs\r\nconst blogReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'INI_BLOG': {\r\n      blogs = action.data.blogs\r\n      return blogs\r\n    }\r\n    case 'SEARCH_BLOG': {\r\n      return blogs.filter(blog => blog.title.toLowerCase().includes(action.data.toLowerCase()))\r\n    }\r\n    case 'RESET_BLOG': {\r\n      return blogs\r\n    }\r\n    case 'ADD_BLOG': {\r\n      blogs = [...state, action.data.blog]\r\n      return blogs\r\n    }\r\n    case 'LIKE_BLOG': {\r\n      blogs = state.map(blog => blog.id === action.data.id ? { ...blog, likes: [...blog.likes, action.data.useName] } : blog)\r\n      return blogs\r\n    }\r\n    case 'DELETE_BLOG': {\r\n      blogs = state.filter(blog => blog.id !== action.data.id)\r\n      return blogs\r\n    }\r\n    case 'MAKE_COMMENT': {\r\n      blogs = state.map(blog => blog.id === action.data.id ? { ...blog, comments: [...blog.comments, action.data.comment] } : blog)\r\n      return blogs\r\n    }\r\n    default: return state\r\n  }\r\n}\r\n//搜索博客\r\nexport const searchBlogs = (value) => {\r\n  return {\r\n    type: 'SEARCH_BLOG',\r\n    data: value\r\n  }\r\n}\r\n//重置博客内容\r\nexport const resetBlog = () => {\r\n  return {\r\n    type: 'RESET_BLOG'\r\n  }\r\n}\r\n//拉取博客\r\nexport const initializeBlogs = () => {\r\n  return async dispatch => {\r\n    const blogs = await blogService.getAll()\r\n    dispatch({\r\n      type: 'INI_BLOG',\r\n      data: {\r\n        blogs\r\n      }\r\n    })\r\n  }\r\n}\r\n//评论博客\r\nexport const setBlogs = (blogObject) => {\r\n  return async dispatch => {\r\n    try {\r\n      const blog = await blogService.create(blogObject)\r\n      dispatch({\r\n        type: 'ADD_BLOG',\r\n        data: {\r\n          blog\r\n        }\r\n      })\r\n    } catch (error) {\r\n      throw new Error('token过期')\r\n    }\r\n\r\n  }\r\n}\r\n//点赞博客\r\nexport const addlike = (id, useName) => {\r\n  return async dispatch => {\r\n    try {\r\n      await blogService.updateBlog({\r\n        id,\r\n        useName\r\n      })\r\n\r\n      dispatch({\r\n        type: 'LIKE_BLOG',\r\n        data: {\r\n          id,\r\n          useName\r\n        }\r\n      })\r\n    } catch (error) {\r\n      throw new Error('token过期')\r\n    }\r\n\r\n  }\r\n}\r\n//删除博客\r\nexport const deleteBlog = (id) => {\r\n  return async dispatch => {\r\n    try {\r\n      await blogService.removeBlog({\r\n        id\r\n      })\r\n\r\n      dispatch({\r\n        type: 'DELETE_BLOG',\r\n        data: {\r\n          id\r\n        }\r\n      })\r\n    } catch (error) {\r\n      throw new Error('token过期')\r\n    }\r\n\r\n  }\r\n}\r\n//评论博客\r\nexport const makeComment = (comment, id) => {\r\n  return async dispatch => {\r\n    try {\r\n      const blog = await blogService.makeComment(\r\n        comment,\r\n        id\r\n      )\r\n      dispatch({\r\n        type: 'MAKE_COMMENT',\r\n        data: {\r\n          id,\r\n          comment\r\n        }\r\n      })\r\n    } catch (error) {\r\n      throw new Error('token过期')\r\n    }\r\n\r\n  }\r\n}\r\nexport default blogReducer","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n//修饰token\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\n//获取所有博客\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n//创建博客\r\nconst create = async newObjcet => {\r\n  const header = {\r\n    headers: { Authorization: token }\r\n  }\r\n  const response = await axios.post(baseUrl, newObjcet, header)\r\n  return response.data\r\n}\r\n\r\n//点赞博客\r\nconst updateBlog = async blog => {\r\n  const header = {\r\n    headers: { Authorization: token }\r\n  }\r\n\r\n  const response = await axios.patch(`${baseUrl}/${blog.id}`, { useName: blog.useName }, header)\r\n  return response.data\r\n}\r\n\r\n//删除博客\r\nconst removeBlog = async blog => {\r\n  const header = {\r\n    headers: { Authorization: token }\r\n  }\r\n  await axios.delete(`${baseUrl}/${blog.id}`, header)\r\n}\r\n\r\n//评论博客\r\nconst makeComment = async (comment, id) => {\r\n  const header = {\r\n    headers: { Authorization: token }\r\n  }\r\n  const response = await axios.post(`${baseUrl}/${id}/comments`, { comment }, header)\r\n  return response.data\r\n}\r\nexport default { getAll, create, setToken, updateBlog, removeBlog, makeComment }","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { List, Avatar, Space, Button, Input, notification } from 'antd';\r\nimport { LikeOutlined, MessageOutlined, UserOutlined } from '@ant-design/icons';\r\nimport { searchBlogs } from '../reducer/blogReducer';\r\nconst { Search } = Input;\r\n\r\nconst Blog = ({ loggedUser }) => {\r\n  const dispatch = useDispatch()\r\n  const blogs = useSelector(state => state.blogs)\r\n  //按点赞数排序,添加头像\r\n  blogs.sort((a, b) => (a.likes.length > b.likes.length ? -1 : 1))\r\n  blogs.forEach((item, index) => {\r\n    //avatar,description,content\r\n    item.avatar = `https://joesch.moe/api/v1/random?key=${index}`\r\n    item.description = '简介：暂无'\r\n  })\r\n  //搜索博客\r\n  const handleSearch = (value) => {\r\n    dispatch(searchBlogs(value))\r\n  }\r\n  //展示容器\r\n  const IconText = ({ icon, text }) => (\r\n    <Space>\r\n      {React.createElement(icon)}\r\n      {text}\r\n    </Space>\r\n  );\r\n  //未登录提示\r\n  const openNotification = () => {\r\n    notification.error({\r\n      message: '请先登录再发布',\r\n      placement: 'topLeft'\r\n    });\r\n  };\r\n  return (\r\n    <div >\r\n      <div className='contentHeadText'>博客</div>\r\n      <>\r\n        <div className='blogSearch'>\r\n          <Search\r\n            placeholder=\"搜索文章\"\r\n            onSearch={handleSearch}\r\n            allowClear\r\n            style={{\r\n              width: 200,\r\n            }}\r\n          />\r\n        </div>\r\n        {loggedUser ?\r\n          <Link to='/addblog'>\r\n            <Button type=\"primary\" block shape='round' className='addBlogBtn' >\r\n              发布新博客\r\n            </Button>\r\n          </Link> :\r\n          <Button type=\"primary\" block shape='round' className='addBlogBtn' onClick={openNotification}>\r\n            发布新博客\r\n          </Button>\r\n        }\r\n\r\n        <List\r\n          itemLayout=\"vertical\"\r\n          size=\"large\"\r\n          pagination={{\r\n            pageSize: 3,\r\n          }}\r\n          dataSource={blogs}\r\n          bordered={true}\r\n          loading={blogs.length == 0 ? true : false}\r\n          renderItem={(item) => (\r\n            <List.Item\r\n              key={item.id}\r\n              actions={[\r\n                <IconText icon={UserOutlined} text={item.author} key=\"list-vertical-like-o\" />,\r\n                <IconText icon={LikeOutlined} text={item.likes.length} key=\"list-vertical-like-o\" />,\r\n                <IconText icon={MessageOutlined} text={item.comments.length} key=\"list-vertical-message\" />,\r\n              ]}\r\n              extra={\r\n                <img\r\n                  width={272}\r\n                  alt=\"logo\"\r\n                  src=\"https://gw.alipayobjects.com/zos/rmsportal/mqaQswcyDLcXyDKnZfES.png\"\r\n                />\r\n              }\r\n            >\r\n              <List.Item.Meta\r\n                avatar={<Avatar src={item.avatar} />}\r\n                title={<Link to={`/blogs/${item.id}`}>{item.title}</Link>}\r\n                description={item.description}\r\n              />\r\n              {item.content}\r\n            </List.Item>\r\n          )}\r\n        />\r\n      </>\r\n\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Blog","import React, { useState } from \"react\";\r\nimport { Form, Input, Button, message } from 'antd';\r\nimport { EditOutlined, UserOutlined } from '@ant-design/icons';\r\nimport MDEditor from '@uiw/react-md-editor';\r\nimport rehypeSanitize from \"rehype-sanitize\";\r\nimport { useDispatch } from 'react-redux'\r\nimport { setBlogs } from \"../reducer/blogReducer\";\r\n\r\nconst AddForm = ({ setLoggedUser }) => {\r\n  const dispatch = useDispatch()\r\n  const [title, setTitle] = useState('')\r\n  const [author, setAuthor] = useState('')\r\n  const [value, setValue] = useState(``);\r\n\r\n  const addBlog = () => {\r\n    let res = dispatch(setBlogs({\r\n      title,\r\n      author,\r\n      url: value\r\n    }))\r\n\r\n    res.then(() => {\r\n      setTitle('')\r\n      setAuthor('')\r\n      setValue('')\r\n      location.replace('/')\r\n      message.success('创建成功')\r\n    }, () => {\r\n      message.error('请重新登录，注意做好备份')\r\n      window.localStorage.removeItem('loggedBlogappUser')\r\n      dispatch(setLoggedUser(null))\r\n    })\r\n  }\r\n  return (\r\n    <div\r\n      className=\"addForm\"\r\n    >\r\n      <Form\r\n        onFinish={addBlog}\r\n        style={{ width: '100%', margin: '10px 14px', display: 'flex', flexDirection: 'column' }}\r\n      >\r\n        <Form.Item\r\n          name=\"title\"\r\n          rules={[{ required: true, message: '请输入标题' }]}\r\n        >\r\n          <Input\r\n            prefix={<EditOutlined />}\r\n            placeholder=\"标题\"\r\n            allowClear='true'\r\n            onChange={({ target }) => {\r\n              setTitle(target.value)\r\n            }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"author\"\r\n          rules={[{ required: true, message: '请输入文章作者' }]}\r\n        >\r\n          <Input\r\n            prefix={<UserOutlined />}\r\n            allowClear='true'\r\n            placeholder=\"作者(原创或转载）\"\r\n            onChange={({ target }) => {\r\n              setAuthor(target.value)\r\n            }}\r\n          />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"content\"\r\n          rules={[{ required: true, message: '请输入文章内容' }]}\r\n        >\r\n\r\n          <MDEditor\r\n            value={value}\r\n            onChange={setValue}\r\n            previewOptions={{\r\n              rehypePlugins: [[rehypeSanitize]],\r\n            }}\r\n          />\r\n        </Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\" className='formBtn'>创建</Button>\r\n      </Form>\r\n\r\n    </div>\r\n  )\r\n\r\n}\r\nexport default AddForm","import React, { useRef, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Table, Tag, Button, Input, Space } from 'antd';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\nimport Highlighter from 'react-highlight-words';\r\nconst Users = ({ users }) => {\r\n    //搜索作者\r\n    const [searchText, setSearchText] = useState('');\r\n    const [searchedColumn, setSearchedColumn] = useState('');\r\n    const searchInput = useRef(null);\r\n    \r\n    const handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n        confirm();\r\n        setSearchText(selectedKeys[0]);\r\n        setSearchedColumn(dataIndex);\r\n    };\r\n    const handleReset = (clearFilters) => {\r\n        clearFilters();\r\n        setSearchText('');\r\n    };\r\n    const getColumnSearchProps = (dataIndex) => ({\r\n        //自定义过滤样式与逻辑\r\n        filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters, close }) => (\r\n            <div\r\n                style={{\r\n                    padding: 8,\r\n                }}\r\n                onKeyDown={(e) => e.stopPropagation()}\r\n            >\r\n                <Input\r\n                    ref={searchInput}\r\n                    placeholder={`搜索用户名`}\r\n                    value={selectedKeys[0]}\r\n                    onChange={(e) => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n                    onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}//回车搜索\r\n                    style={{\r\n                        marginBottom: 8,\r\n                        display: 'block',\r\n                        borderColor: '#5c64a4'\r\n                    }}\r\n                />\r\n                <Space>\r\n                    <Button\r\n                        type=\"primary\"\r\n                        onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n                        icon={<SearchOutlined />}\r\n                        size=\"small\"\r\n                        style={{\r\n                            width: 90,\r\n                            background: '#5c64a4',\r\n                            border: 'none'\r\n                        }}\r\n                    >\r\n                        搜索\r\n                    </Button>\r\n                    <Button\r\n                        onClick={() => clearFilters && handleReset(clearFilters)}\r\n                        size=\"small\"\r\n                        style={{\r\n                            width: 90,\r\n                        }}\r\n                    >\r\n                        清空\r\n                    </Button>\r\n                    <Button\r\n                        type=\"link\"\r\n                        size=\"small\"\r\n                        onClick={() => {\r\n                            confirm({\r\n                                closeDropdown: false,\r\n                            });\r\n                            setSearchText(selectedKeys[0]);\r\n                            setSearchedColumn(dataIndex);\r\n                        }}\r\n                        style={{\r\n                            color: '#5c64a4'\r\n                        }}\r\n                    >\r\n                        过滤\r\n                    </Button>\r\n                    <Button\r\n                        type=\"link\"\r\n                        size=\"small\"\r\n                        onClick={() => {\r\n                            close();\r\n                        }}\r\n                        style={{\r\n                            color: '#5c64a4'\r\n                        }}\r\n                    >\r\n                        关闭\r\n                    </Button>\r\n                </Space>\r\n            </div>\r\n        ),\r\n        filterIcon: (filtered) => (\r\n            <SearchOutlined\r\n                style={{\r\n                    color: filtered ? '#1890ff' : undefined,\r\n                }}\r\n            />\r\n        ),\r\n        onFilter: (value, record) =>\r\n            record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),//忽略大小写\r\n        onFilterDropdownOpenChange: (visible) => {\r\n            if (visible) {\r\n                setTimeout(() => searchInput.current?.select(), 100);\r\n            }\r\n        },\r\n        //展示搜索内容\r\n        render: (text) =>\r\n            searchedColumn === dataIndex ? (\r\n                // 搜索词高亮\r\n                <Highlighter\r\n                    highlightStyle={{\r\n                        backgroundColor: '#ffc069',\r\n                        padding: 0,\r\n                    }}\r\n                    searchWords={[searchText]}\r\n                    autoEscape\r\n                    textToHighlight={text ? text.toString() : ''}\r\n                />\r\n            ) : (\r\n                text\r\n            ),\r\n    });\r\n\r\n    //用户状态\r\n    users.forEach((item) => {\r\n        let comments = item.blogs.reduce((pre, cur) => pre + cur.comments.length, 0)\r\n        let likes = item.blogs.reduce((pre, cur) => pre + cur.likes.length, 0)\r\n        let star = comments + likes * 2\r\n        if (star > 7) {\r\n            item.status = '火爆'\r\n        } else if (star > 4) {\r\n            item.status = '活跃'\r\n        } else {\r\n            item.status = '沉寂'\r\n        }\r\n\r\n    })\r\n\r\n    const columns = [\r\n        {\r\n            title: '用户名',\r\n            dataIndex: 'name',\r\n            className: 'TableText',\r\n            ...getColumnSearchProps('name')\r\n        },\r\n        {\r\n            title: '发博数',\r\n            dataIndex: 'blogs',\r\n            className: 'TableText',\r\n            render: (text) => {\r\n                return (\r\n                    <div>{text.length}</div>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            title: '所获点赞',\r\n            dataIndex: 'blogs',\r\n            className: 'TableText',\r\n            render: (text) => {\r\n                let likes = text.reduce((pre, cur) => pre + cur.likes.length, 0)\r\n                return (\r\n                    <div>{likes}</div>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            title: '评论总数',\r\n            dataIndex: 'blogs',\r\n            className: 'TableText',\r\n            render: (text) => {\r\n                let comments = text.reduce((pre, cur) => pre + cur.comments.length, 0)\r\n                return (\r\n                    <div>{comments}</div>\r\n                )\r\n            }\r\n        },\r\n        {\r\n            title: '热度',\r\n            dataIndex: 'status',\r\n            className: 'TableText',\r\n            filters: [\r\n                {\r\n                    text: '火爆',\r\n                    value: '火爆',\r\n                },\r\n                {\r\n                    text: '活跃',\r\n                    value: '活跃',\r\n                },\r\n                {\r\n                    text: '沉寂',\r\n                    value: '沉寂',\r\n                },\r\n            ],\r\n            onFilter: (value, record) => record.status.includes(value),//选择状态\r\n            render: (text) => {\r\n\r\n                if (text == '火爆') {\r\n                    return (\r\n                        <Tag color=\"#f50\">火爆</Tag>\r\n                    )\r\n                } else if (text == '活跃') {\r\n                    return (\r\n                        <Tag color=\"#87d068\">活跃</Tag>\r\n                    )\r\n                } else {\r\n                    return (\r\n                        <Tag color='grey'>沉寂</Tag>\r\n                    )\r\n                }\r\n\r\n            }\r\n        },\r\n        {\r\n            title: '',\r\n            dataIndex: 'name',\r\n            render: (text) => {\r\n                const a = users.filter(x => x.name == text)\r\n                return (\r\n                    <Link to={`/users/${a[0].id}`} >详情</Link>\r\n                )\r\n            }\r\n        }\r\n    ]\r\n\r\n    return (\r\n        <div>\r\n\r\n            <h1 >用户信息统计</h1>\r\n            <div >\r\n                <Table columns={columns} dataSource={users} bordered={true} loading={users.length == 0} className='table' />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { List, Card, Popconfirm, Button, Skeleton, message } from 'antd';\r\nimport { LikeOutlined, MessageOutlined, QuestionCircleOutlined } from '@ant-design/icons';\r\nimport { deleteBlog } from '../reducer/blogReducer';\r\n\r\nconst User = ({ user, loggedUser, setLoggedUser }) => {\r\n    const dispatch = useDispatch()\r\n\r\n    //删除博客\r\n    const handleRemoving = async (blog) => {\r\n        let res = dispatch(deleteBlog(blog.id))\r\n        res.then(() => {\r\n            location.reload()\r\n            message.success('删除成功')\r\n        }, () => {\r\n            message.error('身份失效，请重新登录')\r\n            window.localStorage.removeItem('loggedBlogappUser')\r\n            dispatch(setLoggedUser(null))\r\n            location.replace('/')\r\n        })\r\n\r\n    }\r\n    return (\r\n\r\n        <div>\r\n            {\r\n                !user ?\r\n                    <Skeleton active paragraph={{ rows: 10 }} /> :\r\n                    <div>\r\n                        {\r\n                            loggedUser?.id === user.id ?\r\n                                <h1>个人中心</h1> :\r\n                                <h1>{user.name}的博客</h1>\r\n                        }\r\n                        <List\r\n                            grid={{\r\n                                gutter: 20,\r\n                                column: 3\r\n                            }}\r\n                            pagination={{\r\n                                pageSize: 9,\r\n                            }}\r\n                            className='userList'\r\n                            dataSource={user.blogs}\r\n                            renderItem={item => (\r\n\r\n                                <List.Item>\r\n                                    <Card\r\n\r\n                                        title={<Link className='blogName' to={`/blogs/${item.id}`} >{item.title}</Link>}\r\n                                    >\r\n                                        <div className='cardContnet'>\r\n                                            <div >\r\n                                                <span className='likes'> <LikeOutlined /> {item.likes.length}</span>\r\n                                                <span > <MessageOutlined /> {item.comments.length}</span>\r\n                                            </div>\r\n                                            {\r\n                                                loggedUser?.id === user.id ? <Popconfirm\r\n                                                    title=\"你确定要删除这个博客吗\"\r\n                                                    onConfirm={() => handleRemoving(item)}\r\n                                                    okText=\"是\"\r\n                                                    cancelText=\"否\"\r\n                                                    icon={\r\n                                                        <QuestionCircleOutlined\r\n                                                            style={{\r\n                                                                color: 'red',\r\n                                                            }}\r\n                                                        />\r\n                                                    }\r\n                                                >\r\n                                                    <Button className='deleteBtn'>删除</Button>\r\n                                                </Popconfirm> : null\r\n                                            }\r\n                                        </div>\r\n\r\n                                    </Card>\r\n                                </List.Item>\r\n                            )}\r\n                        />\r\n                    </div>\r\n\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User","\r\nconst usersReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case 'ADD_USERS': {\r\n      return action.data.users\r\n    }\r\n    case 'ADD_LIKE': {\r\n      let res = [...state]\r\n      res.forEach((user) => {\r\n        user.blogs.forEach((blog) => {\r\n          if (blog.id == action.data.blogId) {\r\n            blog.likes.push(action.data.useName)\r\n          }\r\n        })\r\n      })\r\n      return res\r\n    }\r\n    case 'ADD_COMMENT': {\r\n      let res = [...state]\r\n      res.forEach((user) => {\r\n        user.blogs.forEach((blog) => {\r\n          if (blog.id == action.data.blogId) {\r\n            blog.comments.push(action.data.comment)\r\n          }\r\n        })\r\n      })\r\n      return res\r\n    }\r\n    default: return state\r\n  }\r\n}\r\n//添加用户信息\r\nexport const addUsers = (users) => {\r\n  return {\r\n    type: 'ADD_USERS',\r\n    data: {\r\n      users\r\n    }\r\n  }\r\n}\r\n// 更新用户关联的博客点赞\r\nexport const addLike2 = (blogId, useName) => {\r\n  return {\r\n    type: 'ADD_LIKE',\r\n    data: {\r\n      blogId,\r\n      useName\r\n    }\r\n  }\r\n}\r\n// 更新用户关联的博客评论\r\nexport const addComment2 = (blogId, comment) => {\r\n  return {\r\n    type: 'ADD_COMMENT',\r\n    data: {\r\n      blogId,\r\n      comment\r\n    }\r\n  }\r\n}\r\nexport default usersReducer","import React, { useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useParams } from 'react-router-dom'\r\nimport { makeComment, addlike } from '../reducer/blogReducer'\r\nimport { addLike2, addComment2 } from '../reducer/usersReducer'\r\nimport { Button, Card, List, Input, message, Affix, Drawer, Avatar } from 'antd';\r\nimport { LikeOutlined, UnorderedListOutlined, UserOutlined } from '@ant-design/icons';\r\nimport ReactMarkdown from 'react-markdown';     // 解析 markdown\r\nimport remarkGfm from 'remark-gfm';             // markdown 对表格/删除线/脚注等的支持\r\nimport MarkNav from 'markdown-navbar';          // markdown 目录\r\nimport 'markdown-navbar/dist/navbar.css';\r\nconst { TextArea } = Input;\r\n\r\nconst SingleBlog = ({ loggedUser, setLoggedUser }) => {\r\n    //控制目录状态\r\n    const [open, setOpen] = useState(false);\r\n    const showDrawer = () => {\r\n        setOpen(true);\r\n    };\r\n    const onClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const [comment, setComment] = useState('')\r\n    const dispatch = useDispatch()\r\n\r\n    //筛选出博客\r\n    const blogs = useSelector(state => state.blogs)\r\n    const id = useParams().id\r\n    const blog = blogs.find((blog) => blog.id === id)\r\n\r\n    //评论博客\r\n    const handleComment = () => {\r\n        if (comment == '') {\r\n            message.error('请输入评论')\r\n            return\r\n        }\r\n        if (loggedUser) {\r\n            let res = dispatch(makeComment(comment, blog.id))\r\n            res.then(() => {\r\n                dispatch(addComment2(blog.id, comment))\r\n                setComment('')\r\n                message.success('评论成功')\r\n            }, () => {\r\n                message.error('身份失效，请重新登录')\r\n                window.localStorage.removeItem('loggedBlogappUser')\r\n                dispatch(setLoggedUser(null))\r\n                location.reload()\r\n            })\r\n        }\r\n        else {\r\n            message.error('请先登录')\r\n        }\r\n\r\n    }\r\n\r\n    //点赞博客\r\n    const handleLikes = (id) => {\r\n        //两种保障\r\n        if (loggedUser) {\r\n            if (blog.likes.includes(loggedUser.username)) {\r\n                message.error('已经点赞过了')\r\n            } else {\r\n                let res = dispatch(addlike(id, loggedUser.username))\r\n                res.then(() => {\r\n                    dispatch(addLike2(id, loggedUser.username))\r\n                    message.success('点赞成功')\r\n                }, () => {\r\n                    message.error('身份失效，请重新登录')\r\n                    window.localStorage.removeItem('loggedBlogappUser')\r\n                    dispatch(setLoggedUser(null))\r\n                    location.reload()\r\n                })\r\n            }\r\n        }\r\n        else {\r\n            message.error('请先登录')\r\n        }\r\n\r\n    }\r\n\r\n    if (!blog)\r\n        return null\r\n\r\n    //评论头像处理\r\n    let comments = blog.comments.map(\r\n        (item, index) => (\r\n            {\r\n                avatar: `https://joesch.moe/api/v1/random?key=${index}`,\r\n                content: (<p>{item}</p>)\r\n            }\r\n        )\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            <div className='blogBox'>\r\n                <div className='directory'>\r\n                    {/* 目录开关 */}\r\n                    <Affix offsetTop={350}>\r\n                        <Button onClick={showDrawer} className='drawerBtn'>\r\n                            <UnorderedListOutlined style={{\r\n                                fontSize: '1.5em'\r\n                            }} />\r\n                        </Button>\r\n                    </Affix>\r\n                    {/* 目录抽屉 */}\r\n                    <Drawer title=\"目录\" placement=\"left\" onClose={onClose} open={open}>\r\n                        <MarkNav\r\n                            className=\"toc-list\"\r\n                            source={blog.url}\r\n                            ordered={true}\r\n                            headingTopOffset={-450}\r\n                        />\r\n                    </Drawer>\r\n                </div>\r\n\r\n                <div className='blogContent'>\r\n                    {/* 具体博客内容 */}\r\n                    <Card\r\n                        title=<div>{blog.title}</div>\r\n                        hoverable={true}\r\n                        headStyle={{\r\n                            textAlign: 'center',\r\n                            fontSize: '3em',\r\n                            color: '#5c64a4'\r\n                        }}\r\n                        bordered={true}\r\n                        extra={\r\n                            <div className='blogAuthor'>\r\n                                <UserOutlined /> 作者:{blog.author}\r\n                            </div>\r\n                        }\r\n                        actions={[\r\n                            <div>\r\n                                <span>\r\n                                    <LikeOutlined />{blog.likes.length}\r\n                                </span>\r\n                                <Button onClick={() => handleLikes(blog.id)} className='likeBtn'>\r\n                                    点赞\r\n                                </Button>\r\n                            </div>\r\n                        ]\r\n                        }\r\n                    >\r\n                        <ReactMarkdown\r\n                            children={blog.url}\r\n                            remarkPlugins={[remarkGfm]}\r\n                        />\r\n                    </Card>\r\n                </div>\r\n\r\n                <h2 style={{ color: 'rgb(92, 100, 164)', marginTop: '5vh' }}>评论</h2>\r\n                {/* 评论卡片 */}\r\n                <List\r\n                    dataSource={comments}\r\n                    renderItem={(item, index) => (\r\n                        <List.Item>\r\n                            <List.Item.Meta\r\n                                title={item.content}\r\n                                avatar={<Avatar src={item.avatar} />}\r\n                            />\r\n                        </List.Item>\r\n\r\n                    )}\r\n                    className='blogComments'\r\n                    bordered\r\n                    pagination={{\r\n                        pageSize: 5,\r\n                        hideOnSinglePage: true\r\n                    }}\r\n\r\n                >\r\n                </List>\r\n                {/* 评论输入框 */}\r\n                <div className='blogComments'>\r\n                    <TextArea\r\n                        showCount\r\n                        maxLength={500}\r\n                        style={{\r\n                            marginTop: '3vh',\r\n                        }}\r\n                        onChange={(e) => setComment(e.target.value)}\r\n                        autoSize\r\n                        placeholder=\"请输入评论(按时间排序）\"\r\n                        value={comment}\r\n                    />\r\n\r\n                </div>\r\n                <Button className='commentBtn' onClick={handleComment}>添加</Button>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default SingleBlog","import axios from \"axios\";\r\nconst baseURL = '/api/users'\r\n\r\n//拉取所有用户信息\r\nconst getALL = async () => {\r\n    const response = await axios.get(baseURL)\r\n    return response.data\r\n}\r\n//注册\r\nconst register = async (info) => {\r\n    const response = await axios.post(baseURL, info)\r\n    return response.data\r\n}\r\nexport default {\r\n    getALL,\r\n    register\r\n}","const loggedUserReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_USER': {\r\n      return action.data.user\r\n    }\r\n    default: return state\r\n  }\r\n}\r\n//添加登录用户信息\r\nexport const setLoggedUser = (user) => {\r\n  return {\r\n    type: 'ADD_USER',\r\n    data: {\r\n      user\r\n    }\r\n  }\r\n}\r\n\r\nexport default loggedUserReducer","import React from \"react\"\r\nimport { useState } from \"react\"\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport { Form, Input, Button, Checkbox } from 'antd';\r\nconst LoginForm = (props) => {\r\n  const [username, setUsersname] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [noLogin, setNoLogin] = useState(false)\r\n  //登录\r\n  const handleLogin = () => {\r\n    props.login(username, password, noLogin)\r\n  }\r\n  //免登录选项\r\n  const handleNoLogin = () => [\r\n    setNoLogin(!noLogin)\r\n  ]\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n      }}\r\n    >\r\n      <Form\r\n        initialValues={{ remember: true }}\r\n        onFinish={handleLogin}\r\n        style={{ width: '100%', margin: '10px 14px' }}\r\n      >\r\n        <Form.Item\r\n          name=\"username\"\r\n          rules={[{ required: true, message: '请输入你的帐号' }]}\r\n        >\r\n          <Input\r\n            prefix={<UserOutlined />}\r\n            placeholder=\"帐号\"\r\n            onChange={({ target }) => {\r\n              setUsersname(target.value)\r\n            }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[{ required: true, message: '请输入你的密码' }]}\r\n        >\r\n          <Input\r\n            prefix={<LockOutlined />}\r\n            type=\"password\"\r\n            placeholder=\"密码\"\r\n            onChange={({ target }) => {\r\n              setPassword(target.value)\r\n            }}\r\n          />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Checkbox onChange={handleNoLogin}>7天内免登录</Checkbox>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            style={{ backgroundColor: 'rgb(92, 100, 164)', borderColor: 'rgb(92, 100, 164)' }}\r\n          >\r\n            登录\r\n          </Button>\r\n          {'   '}或{' '}\r\n          <Button type=\"link\" onClick={() => props.setModalState('注册')} style={{ color: 'rgb(92, 100, 164)' }}>\r\n            现在注册\r\n          </Button>{' '}\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default LoginForm","import React, { useState } from \"react\"\r\nimport UserService from '../services/users'\r\nimport { Form, Input, Button, message, Checkbox } from 'antd';\r\nconst CreateAccount = (props) => {\r\n  const [username, setUsername] = useState('')\r\n  const [name, SetName] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  //注册\r\n  const handleRegister = async () => {\r\n    try {\r\n      await UserService.register({ username, name, password })\r\n      setUsername('')\r\n      SetName('')\r\n      setPassword('')\r\n      message.success('注册成功')\r\n      props.login(username, password)\r\n    }\r\n    catch (error) {\r\n      message.error('该账户已经被注册')\r\n    }\r\n\r\n\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n      }}\r\n    >\r\n      <Form\r\n        onFinish={handleRegister}\r\n        scrollToFirstError\r\n        style={{ width: '100%', margin: '16px 20px' }}\r\n      >\r\n        <Form.Item\r\n          name=\"name\"\r\n          rules={[\r\n            { required: true, message: '请输入你的昵称', whitespace: true },\r\n            { max: 10, message: '请输入10位字符以内的昵称' },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"昵称\" onChange={({ target }) => {\r\n            SetName(target.value)\r\n          }} />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"username\"\r\n          rules={[\r\n            {\r\n              pattern: /\\w+$/,\r\n              message: '只能使用数字、字母和下划线组合',\r\n            },\r\n            { required: true, message: '请输入你的帐号', whitespace: true },\r\n          ]}\r\n        >\r\n          <Input placeholder=\"帐号\" onChange={({ target }) => {\r\n            setUsername(target.value)\r\n          }} />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"password\"\r\n          rules={[\r\n            {\r\n              min: 6,\r\n              message: '请输入大于5个字符的密码',\r\n            },\r\n            {\r\n              max: 20,\r\n              message: '请输入小于20个字符的密码',\r\n            },\r\n            {\r\n              required: true,\r\n              message: '请输入你的密码',\r\n            },\r\n          ]}\r\n          hasFeedback\r\n        >\r\n          <Input.Password placeholder=\"密码\" onChange={({ target }) => {\r\n            setPassword(target.value)\r\n          }} />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"confirm\"\r\n          dependencies={['password']}\r\n          hasFeedback\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: '请确认你的密码',\r\n            },\r\n            ({ getFieldValue }) => ({\r\n              validator(rule, value) {\r\n                if (!value || getFieldValue('password') === value) {\r\n                  return Promise.resolve();\r\n                }\r\n                return Promise.reject('确认密码与密码不一致');\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          <Input.Password placeholder=\"确认密码\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"agreement\"\r\n          valuePropName=\"checked\"\r\n          rules={[\r\n            {\r\n              validator: (_, value) =>\r\n                value ? Promise.resolve() : Promise.reject('请同意用户协议'),\r\n            },\r\n          ]}\r\n        >\r\n          <Checkbox>\r\n            我已经阅读并同意{' '}\r\n            <a\r\n              href=\"#\"\r\n              style={{ color: 'rgb(92, 100, 164)' }}\r\n            >\r\n              用户协议\r\n            </a>\r\n          </Checkbox>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" style={{ backgroundColor: 'rgb(92, 100, 164)', borderColor: 'rgb(92, 100, 164)' }}>\r\n            注册\r\n          </Button>{' '}\r\n          或\r\n          <Button type=\"link\" onClick={() => props.setModalState('登录')} style={{ color: 'rgb(92, 100, 164)' }}>\r\n            已经有帐号了？现在登录\r\n          </Button>{' '}\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default CreateAccount","import axios from \"axios\";\r\nconst baseurl = '/api/login'\r\n\r\n//登录\r\nconst login = async newObjcet => {\r\n    const response = await axios.post(baseurl, newObjcet)\r\n    return response.data\r\n}\r\n\r\nexport default { login }","import React from 'react'\r\nimport { YahooOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { setLoggedUser } from '../reducer/loggedUserReducer';\r\nimport { resetBlog } from '../reducer/blogReducer';\r\nimport LoginForm from './LoginForm';\r\nimport CreateAccount from './CreateAccount';\r\nimport loginService from '../services/login'\r\nimport blogService from '../services/blogs'\r\nimport { Modal, message } from 'antd';\r\nimport { useState } from 'react';\r\n\r\nexport default function Head({ loggedUser }) {\r\n    const dispatch = useDispatch()\r\n    const [modalState, setModalState] = useState('登录');\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    //登录框的展示\r\n    const showModal = () => {\r\n        setIsModalVisible(true);\r\n    };\r\n    //退出登录\r\n    const loginout = () => {\r\n        if (window.localStorage.getItem('loggedBlogappUser')) {\r\n            window.localStorage.removeItem('loggedBlogappUser')\r\n            dispatch(setLoggedUser(null))\r\n        }\r\n        location.replace('/')\r\n    }\r\n    //关闭登录框\r\n    const handleModalCancel = () => {\r\n        setIsModalVisible(false);\r\n        setModalState('登录'); // 回到登录状态\r\n    };\r\n    //自动定位到相应位置\r\n    const move = () => {\r\n        dispatch(resetBlog())\r\n        document.body.scrollTop = document.documentElement.scrollTop = 450\r\n    }\r\n    //登录\r\n    const login = async (username, password, noLogin) => {\r\n        try {\r\n            const user = await loginService.login({\r\n                username, password, noLogin\r\n            })\r\n            window.localStorage.setItem(\r\n                'loggedBlogappUser', JSON.stringify(user)\r\n            )\r\n            blogService.setToken(user.token)\r\n            dispatch(setLoggedUser(user))\r\n            message.success('登陆成功')\r\n            location.replace('/')\r\n        } catch (error) {\r\n            message.error('账号或密码错误')\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className='head'>\r\n            <YahooOutlined className='headIcon' />\r\n            {loggedUser\r\n                ?\r\n                <div className='headLogin'>\r\n                    <div className='left'>\r\n                        <Link to='/blogs' className='headBtn' onClick={move}>博客</Link>\r\n                        <Link to='/users' className='headBtn' onClick={move}>用户</Link>\r\n                    </div>\r\n                    <div className='right'>\r\n                        <Link to={`/users/${loggedUser.id}`} className='headBtn' onClick={move}>{loggedUser.username}</Link>\r\n                        <button href='#' onClick={loginout} className='loginOutBtn'>退出登录</button>\r\n                    </div>\r\n                </div>\r\n                :\r\n                <div className='headUnLogin'>\r\n                    <Link to='/blogs' className='headBtn' onClick={move}>\r\n                        博客\r\n                    </Link>\r\n                    <button onClick={showModal} className='loginBtn' >\r\n                        注册 | 登录\r\n                    </button>\r\n                </div>\r\n            }\r\n            <Modal\r\n\r\n                style={{ maxWidth: '400px', textAlign: 'center' }}\r\n                title={modalState}\r\n                open={isModalVisible}\r\n                footer={false}\r\n                onCancel={handleModalCancel}\r\n            >\r\n                {modalState === '登录' && <LoginForm setModalState={setModalState} login={login} />}\r\n                {modalState === '注册' && <CreateAccount setModalState={setModalState} login={login} />}\r\n\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Banner() {\r\n    return (\r\n        <div className='banner-bg'>\r\n            <div className='contect-container'>\r\n                <div className='contect-zone'>\r\n                    <div className=\"welcome-contect\">欢迎</div>\r\n                    <div className=\"title-contect\">来到yinjie77的博客平台</div>\r\n                    <div className=\"subtitle-contect\">🏠分享学习资源—————共同学习与进步</div>\r\n                </div>\r\n                <div className=\"bg-images\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Popover } from 'antd'\r\nexport default function Footer() {\r\n    const content = (\r\n        <div className='wechat'></div>\r\n    )\r\n    return (\r\n        <div className='footer' >\r\n            <Popover content={content}>\r\n                <div className='contact'>有问题请联系我</div>\r\n            </Popover>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport Blog from './components/Blog'\r\nimport AddForm from './components/addForm'\r\nimport Users from './components/Users'\r\nimport User from './components/User'\r\nimport SingleBlog from './components/singleBlog'\r\n\r\nimport blogService from './services/blogs'\r\nimport usersService from './services/users'\r\n\r\nimport { initializeBlogs } from './reducer/blogReducer'\r\nimport { setLoggedUser } from './reducer/loggedUserReducer'\r\nimport { addUsers } from './reducer/usersReducer'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { Switch, Route, useRouteMatch } from 'react-router-dom'\r\n\r\nimport Head from './components/Head'\r\nimport Banner from './components/Banner'\r\nimport Footer from './components/Footer'\r\n\r\nimport './App.css'\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch()\r\n  const loggedUser = useSelector(state => state.loggedUser)\r\n  const [users, setUsers] = useState([])\r\n\r\n  //获取登录用户的信息\r\n  const matchUser = useRouteMatch('/users/:id')\r\n  const user = matchUser\r\n    ? users.find((user) => user.id === matchUser.params.id)\r\n    : null\r\n\r\n  useEffect(() => {\r\n    //博客信息初始化\r\n    dispatch(initializeBlogs())\r\n    //免登录\r\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      dispatch(setLoggedUser(user))\r\n      blogService.setToken(user.token)\r\n    }\r\n    //用户信息初始化\r\n    (async () => {\r\n      const allUsers = await usersService.getALL()\r\n      dispatch(addUsers(allUsers))\r\n      setUsers(allUsers)\r\n    })()\r\n\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <div >\r\n      {/* head */}\r\n      <Head loggedUser={loggedUser} />\r\n      {/* banner */}\r\n      <Banner />\r\n      {/* content */}\r\n      <div>\r\n        <Switch>\r\n          <Route path=\"/users/:id\">\r\n            {/* 个人中心 */}\r\n            <User user={user} loggedUser={loggedUser} setLoggedUser={setLoggedUser} />\r\n          </Route>\r\n          <Route path='/users'>\r\n            {/* 用户统计 */}\r\n            <Users users={users} />\r\n          </Route>\r\n          <Route path='/blogs/:id'>\r\n            {/* 博客详情 */}\r\n            <SingleBlog loggedUser={loggedUser} setLoggedUser={setLoggedUser} />\r\n          </Route>\r\n          <Route path='/addblog'>\r\n            {/* 发布博客 */}\r\n            <AddForm setLoggedUser={setLoggedUser} />\r\n          </Route>\r\n          <Route path='/'>\r\n            {/* 所有博客 */}\r\n            <Blog loggedUser={loggedUser} />\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n      {/*footer*/}\r\n      <Footer />\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default App","import thunk from 'redux-thunk'\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\nimport {createStore,combineReducers,applyMiddleware} from 'redux'\r\nimport blogReducer from './reducer/blogReducer'\r\nimport loggedUserReducer from './reducer/loggedUserReducer'\r\nimport usersReducer from './reducer/usersReducer'\r\n\r\nconst reducers=combineReducers({\r\nblogs:blogReducer,\r\nloggedUser:loggedUserReducer,\r\nusers:usersReducer,\r\n})\r\n\r\nconst store=createStore(reducers,composeWithDevTools(applyMiddleware(thunk)))\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport 'antd/dist/antd.css';\nimport { BrowserRouter as Router } from 'react-router-dom'\nReactDOM.render(\n  <Router>\n      <Provider store={store}>\n      <App />\n      </Provider>\n  </Router>\n   ,\n    document.getElementById('root')\n  )\n  "],"sourceRoot":""}